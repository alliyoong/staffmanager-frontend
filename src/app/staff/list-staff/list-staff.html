<div class="container mt-4">
  <h3>Staff List</h3>
  @if(this.username){
    <h5 class="text-success text-center">Welcome {{this.username}}</h5>
  }
  @if(staffList$ | async; as page){
  <table class="table table-striped table-bordered">
    <thead class="thead-light">
      <tr>
        <th scope="col" class="text-warning">ID</th>
        <th scope="col" class="text-warning">Name</th>
        <th scope="col" class="text-warning">Email</th>
        <th scope="col" class="text-warning">SSN</th>
        <th scope="col" class="text-warning">Phone Number</th>
        <th scope="col" class="text-warning">Gender</th>
        <th scope="col" class="text-warning">Date Of Birth</th>
        <th scope="col" class="text-warning">Join Date</th>
        <th scope="col" class="text-warning">Department</th>
        <th scope="col" class="text-warning">Status</th>
        <th scope="col" class="text-warning">Action</th>
      </tr>
    </thead>
    <tbody>
      @for(data of page.content; track data){
      <tr>
        <th scope="row">{{data.id}}</th>
        <td>{{data.name}}</td>
        <td>{{data.email}}</td>
        <td>{{data.socialSecurityNumber}}</td>
        <td>{{data.phoneNumber}}</td>
        <td>{{data.gender}}</td>
        <td>{{data.dateOfBirth}}</td>
        <td>{{data.joinDate}}</td>
        <td>{{data.status}}</td>
        <td>to-do</td>
        <td>
          <button class="btn btn-info" data-toggle="tooltip" title="Edit" (click)="openEdit(data)">
            <i class="fas fa-edit"></i>
          </button>
          <button class="btn btn-danger" data-toggle="tooltip" title="Delete" (click)="openDelete(data)">
            <i class="fas fa-trash"></i>
          </button>
        </td>
      </tr>
      }
      @empty {
      <tr>
        <td colspan="3" class="text-center">No staffs found</td>
      </tr>
      }
    </tbody>
  </table>

  <!-- Pagination -->
  <nav>
    <ul class="pagination">
      <li class="page-item" [class.disabled]="page.number === 0">
        <a class="page-link" (click)="prevPage()">Previous</a>
      </li>

      <li class="page-item disabled">
        <a class="page-link">Page {{ page.number + 1 }} of {{ page.totalPages }}</a>
      </li>

      <li class="page-item" [class.disabled]="page.number >= page.totalPages - 1">
        <a class="page-link" (click)="nextPage(page.totalPages)">Next</a>
      </li>
    </ul>
  </nav>
  }
</div>

<app-delete-staff></app-delete-staff>
<app-edit-staff></app-edit-staff>