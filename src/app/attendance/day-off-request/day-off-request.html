<div class="d-flex align-items-center justify-content-center min-vh-100">
    <div class="container border p-4 rounded shadow-sm">
        <div class="add-staff-header">
            <h1>Day Off Request Online</h1>
            <p>Please enter the information to request day off</p>
        </div>
        <form [formGroup]="addDayOffRequestForm">
            <div class="form-group mb-3">
                <label class="text-info fw-bold" for="nameInput">Staff Name</label>
                <input type="text" class="form-control" id="nameInput" formControlName="name">
            </div>
            <div class="form-group mb-3">
                <label class="text-info fw-bold" for="departmentInput">Department</label>
                <input type="text" class="form-control" id="departmentInput" formControlName="department">
            </div>
            <div class="form-group mb-3">
                <label for="fromDateInput" class="text-info fw-bold">From</label>
                <div class="col-5">
                    <div class="input-group date" id="datepicker">
                        <input type="date" formControlName="fromDate" class="form-control" id="fromDateInput" />
                    </div>
                </div>
            </div>
            <div class="form-group mb-3">
                <label for="toDateInput" class="text-info fw-bold">To</label>
                <div class="col-5">
                    <div class="input-group date" id="datepicker">
                        <input type="date" formControlName="toDate" class="form-control" id="toDateInput" />
                    </div>
                </div>
            </div>
            <div class="form-group mb-3">
                <label class="text-info fw-bold" for="dayOffReasonInput">Reason</label>
                <input type="text" class="form-control" id="dayOffReasonInput" formControlName="dayOffReason">
            </div>
        </form>
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h3 class="card-title text-center mb-4">Upload Addition Document</h3>

                        <!-- Hidden file input, triggered programmatically -->
                        <input type="file" class="d-none" #fileInput (change)="onFileSelected($event)" />

                        <!-- Drop Zone Area -->
                        <div class="drop-zone p-5 text-center" [class.drag-over]="isDragging()"
                            (click)="fileInput.click()" (dragover)="onDragOver($event)"
                            (dragleave)="onDragLeave($event)" (drop)="onDrop($event)">
                            <!-- Content shown when no file is selected -->
                            @if(!fileName()){
                            <div>
                                <i class="bi bi-cloud-arrow-up display-3 text-secondary"></i>
                                <p class="mt-3 mb-0">Drag & drop your file here, or <span class="text-primary">click to
                                        browse</span>.</p>
                            </div>
                            } @else {
                            <div>
                                <i class="bi bi-file-earmark-check display-3 text-success"></i>
                                <p class="mt-3 mb-0">Selected file:</p>
                                <p class="fw-bold">{{ fileName() }}</p>
                                <button class="btn btn-danger btn-sm mt-2" (click)="clearFile($event)">
                                    Clear
                                </button>
                            </div>
                            }
                        </div>
                    </div>

                </div>
            </div>
        </div>
        @if(!showLoading){
        <button (click)="add()" [disabled]="addDayOffRequestForm.invalid || addDayOffRequestForm.pristine"
            class="btn btn-lg btn-primary">
            Create
        </button>
        }@else {
        <div class="spinner-border text-primary" role="status">
            <!-- <span class="sr-only">Loading...</span> -->
        </div>
        }
    </div>
</div>